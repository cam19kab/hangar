# All-in-one container image for running Hangar.

____
As a Developer (Client, Capgemini, Third Party, anyone on the Web) I want to be able to download a single executable so I will be able to run it without an installation process (run the executable directly from the “Downloads” directory if necessary) and have all the CLIs for Azure, AWS & GCloud available.
____


This solution uses a *Dockerfile* to create an image with all the required tools ready to use. 


## Included Tools

Following toolkits are included in the solution:

- AWS 
- Azure 
- GCloud 
- Kubectl
- Terraform 
- GitHub

**Plus (+)** other tools like `unzip`, `git`, `wget` & `python`

## How to use

. **Build** the image `docker build -t hangar -f .\setup\Dockerfile .`
. **Execute** a command inside the image `docker run --rm -it hangar gcloud auth login` or open an **interactive shell** `docker run --rm -it hangar bash`

IMPORTANT: The container is Stateless -- all the information (credentials, configurations, etc.) created inside the session will be lost at the end of the lifecycle of the container. 

TIP: If you want to have **persistence between executions** or **map the configuration files from your local host** check the next section for mapping volumes.

## Volumes Configuration

For Windows use:

```
docker run --rm -it -v /Users/$env:UserName/AppData/Roaming/gcloud:/root/.config/gcloud -v /Users/$env:UserName/.aws:/root/.aws -v /Users/$env:UserName/.azure:/root/.azure -v /Users/$env:UserName/.kube:/root/.kube -v /Users/$env:UserName/.ssh:/root/.ssh hangar bash
```

For Linux use:

```
docker run --rm -it -v /root/.config/gcloud:/root/.config/gcloud -v /root/.aws:/root/.aws -v /root/.azure:/root/.azure -v /root/.kube:/root/.kube -v /root/.ssh:/root/.ssh hangar bash
```

### Volumes Mapping

[cols="1,2,2"]
|===
|Tool|Windows|Linux

|GCloud CLI
|/Users/$env:UserName/AppData/Roaming/gcloud
|~/.config/gcloud

|AWS CLI
|/Users/$env:UserName/.aws
|~/.aws

|Azure CLI
|/Users/$env:UserName/.azure
|~/.azure

|Kubectl CLI
|/Users/$env:UserName/.kube
|~/.kube

|SSH Keys
|/Users/$env:UserName/.ssh
|~/.ssh

|===
